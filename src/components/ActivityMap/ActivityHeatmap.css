.heatmap-card {
  background: linear-gradient(180deg, rgba(22, 27, 34, 0.6), rgba(13, 17, 23, 0.8));
  border-radius: 12px;
  border: 1px solid rgba(48, 54, 61, 0.4);
  padding: 24px;
  position: relative;
  width: 100%; 
  
  --dot-size: 14px; 
  --gap-size: 5px; 
  --column-width: calc(var(--dot-size) + var(--gap-size));
}

.heatmap-title { margin:0 0 16px 0; font-size:16px; color: #e6edf3; font-weight:600; }

.heatmap-layout {
  display: flex;
  width: 100%;
  gap: 8px; 
}

.heatmap-weekdays {
  display: flex;
  flex-direction: column;
  gap: var(--gap-size); 
  flex-shrink: 0; 
  margin-top: 0;
}

.weekday-spacer {
  height: 20px; 
  width: 100%;
}

.weekday-row {
  height: var(--dot-size); 
  display: flex; 
  align-items: center; 
  justify-content: flex-end;
  font-size: 10px; 
  color: #8b949e; 
  line-height: 1; 
  width: 30px;
}

.heatmap-scrollable {
  flex: 1;
  overflow-x: auto; 
  overflow-y: hidden;
  position: relative;
  padding-bottom: 12px;
}

.heatmap-scrollable::-webkit-scrollbar {
  height: 8px; 
}

.heatmap-scrollable::-webkit-scrollbar-track {
  background: rgba(22, 27, 34, 0.5); 
  border-radius: 4px;
}

.heatmap-scrollable::-webkit-scrollbar-thumb {
  background-color: rgba(139, 148, 158, 0.3); 
  border-radius: 4px;
  border: 2px solid rgba(22, 27, 34, 1); 
}

.heatmap-scrollable::-webkit-scrollbar-thumb:hover {
  background-color: rgba(139, 148, 158, 0.5);
}

/* MONTHS ROW */
.heatmap-months { 
  position: relative; 
  height: 20px; 
  width: max-content; 
  margin-bottom: 4px;
}

.heatmap-month-label { 
  position: absolute; 
  top: 0; 
  font-size: 11px; 
  color: #8b949e; 
  left: calc(var(--month-offset-index, 0) * var(--column-width));
}

/* GRID ROW */
.heatmap-grid {
  display: flex;
  justify-content: flex-start;
  gap: var(--gap-size);
  width: max-content; 
  padding-right: 20px; 
}

.heatmap-column { 
  display: flex; 
  flex-direction: column; 
  gap: var(--gap-size); 
}

/* DOTS */
.heat-dot {
  width: var(--dot-size); 
  height: var(--dot-size); 
  border-radius: 50%;
  transition: all 0.2s ease;
  flex-shrink: 0;
  cursor: pointer;
  border: 1px solid transparent;
}

.heat-dot:hover { 
  transform: scale(1.25); 
  border-color: rgba(255,255,255,0.4);
  z-index: 10;
}

/* COLOR SCALE */
.heat-dot--lvl-0 { background: rgba(255, 255, 255, 0.03); } 
.heat-dot--lvl-1 { background: rgba(44, 197, 167, 0.2); }   
.heat-dot--lvl-2 { background: rgba(44, 197, 167, 0.45); }  
.heat-dot--lvl-3 { background: rgba(44, 197, 167, 0.75); }  
.heat-dot--lvl-4 { background: #2cc5a7; box-shadow: 0 0 6px rgba(44, 197, 167, 0.4); } 

/* Legend */
.heatmap-legend { display:flex; align-items:center; gap:10px; margin-top:16px; font-size: 12px; color: #8b949e; }
.legend-dots { display:flex; gap:4px; align-items:center; }


/* Tooltip */
.custom-tooltip {
  position: fixed;
  z-index: 9999;
  background: #161b22;
  border: 1px solid #30363d;
  color: #c9d1d9;
  padding: 8px 12px;
  border-radius: 8px;
  font-size: 12px;
  pointer-events: none;
  box-shadow: 0 8px 24px rgba(0,0,0,0.6);
  transform: translate(-50%, -130%);
  white-space: nowrap;
}
.tooltip-count { color: #2cc5a7; font-weight: 600; }
.tooltip-date { color: #8b949e; margin-left: 4px; }


/* --- MOBILE RESPONSIVENESS --- */
@media (max-width: 700px) {
  .heatmap-card {
    --dot-size: 10px;
    --gap-size: 3px;
    padding: 16px; 
  }

  /* Weekday labels adjust to smaller dot size */
  .weekday-row {
    font-size: 9px;
  }
}